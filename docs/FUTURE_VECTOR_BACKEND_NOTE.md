# **📌 Future Technical Note**

  

## **OpenSearch as Vector DB Candidate (Deferred)**

  

### **문서 목적**

- 본 문서는 **현재 프로토타입(Phase 2C) 완료 이후**
    
    시스템이 안정적으로 동작함이 입증되었을 때,
    
- **Vector DB 확장 후보로 OpenSearch를 검토했던 판단 근거**를
    
    기록으로 남기기 위한 문서이다.
    
- **현재 단계에서는 구현·도입·전환을 진행하지 않는다.**
    

---

## **1. 검토 배경**

  

본 프로젝트는 장기적으로 다음 요구사항을 가질 가능성이 있다.

- 생성된 소설의 **의미적 중복 방지**
    
- 누적된 소설 / 리서치 자산에 대한 **유사도 기반 탐색**
    
- 메타데이터(공포 메커니즘, 템플릿, Canonical Core 등)와
    
    벡터 검색의 **복합 조건 처리**
    
- 장기 운영 시 **분석·관측·확장성**
    

  

이러한 요구사항을 고려할 때,

전용 Vector DB(Qdrant 등) 외에 **OpenSearch**를

Vector Search 엔진으로 사용하는 가능성을 검토하였다.

---

## **2. OpenSearch를 Vector DB로 고려한 이유**

  

### **2.1 기능적 가능성**

- OpenSearch는 knn_vector 필드를 통해
    
    **벡터 저장 및 ANN 검색**을 지원함
    
- 외부에서 생성한 embedding 벡터를
    
    그대로 저장·검색 가능
    
- Vector similarity + 필터링 조건을
    
    **단일 쿼리에서 결합 가능**
    

  

👉 구조적으로 Qdrant와 동일한 역할 수행 가능

---

### **2.2 의미적 중복 방지 관점에서의 적합성**

  

본 프로젝트에서의 “중복”은 단순 텍스트 중복이 아니라:

- 의미적 유사성
    
- 공포 메커니즘 반복
    
- Canonical 구조 반복
    

  

등 **메타데이터 기반 판단**이 중요하다.

  

OpenSearch는:

- 벡터 유사도
    
- 구조화된 메타데이터 필터
    
- 로그 및 통계 분석
    

  

을 **하나의 스토리지/검색 계층에서 처리 가능**하다는 점에서

장기적으로 적합한 후보로 평가되었다.

---

## **3. 로컬 ML 모델 연계 가능성**

  

### **기본 개념**

- Embedding 생성은 OpenSearch 내부가 아닌
    
    **외부(로컬 ML 모델)** 에서 수행
    
- OpenSearch는:
    
    - 벡터 저장
        
    - 유사도 검색
        
    - 메타데이터 필터링
        
        역할만 담당
        
    

  

### **하드웨어 가용성 검토 (참고)**

|**항목**|**사양**|**평가**|
|---|---|---|
|CPU|i7-6700K|충분|
|RAM|16GB (확장 예정)|충분|
|GPU|RTX 3070|embedding 생성에 충분|

- 중소형 embedding 모델 기준
    
- 하루 수십~수백 건 생성 규모에서는 **무리 없음**
    

  

⚠️ 단, 이는 **미래 검토용 참고**이며

현재 단계에서 성능 검증이나 벤치마크는 수행하지 않음

---

## **4. 다른 Vector DB 대비 OpenSearch의 위치**

|**구분**|**전용 Vector DB (Qdrant 등)**|**OpenSearch**|
|---|---|---|
|벡터 전용 성능|우수|충분|
|메타데이터 결합|제한적|매우 강함|
|분석/관측|약함|매우 강함|
|운영 복잡도|낮음|높음|
|장기 확장성|보통|높음|

**결론적으로**

- 초기/단순 벡터 검색에는 전용 DB가 간결
    
- **장기 운영·통합 분석 단계에서는 OpenSearch가 유리**
    

---

## **5. 현재 단계에서의 명확한 결론**

- OpenSearch는 **미래 확장 후보**로 충분히 유효
    
- 그러나:
    
    - 현재 Phase 2C / 프로토타입 단계에서는
        
    - DB 도입 자체가 목적이 아님
        
    
- 따라서:
    
    - **지금은 도입하지 않는다**
        
    - **설계만 “전환 가능”하도록 유지한다**
        
    

---

## **6. 기록용 결론 문장 (요약)**

  

> OpenSearch는 본 프로젝트에서

> Vector DB 역할을 수행할 수 있는 기술적으로 충분한 후보이며,

> 로컬 ML 모델과의 결합도 가능하다.

>   

> 다만 이는 **프로토타입 검증 이후의 확장 단계에서 고려할 사항**으로,

> 현재 단계에서는 구현 대상이 아니다.
