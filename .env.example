# Claude API Configuration
ANTHROPIC_API_KEY=your_api_key_here

# Model Configuration
CLAUDE_MODEL=claude-sonnet-4-5-20250929

# Optional: Output Configuration
OUTPUT_DIR=./generated_stories
MAX_TOKENS=8192
TEMPERATURE=0.8

# Logging Configuration
LOG_LEVEL=INFO

# =============================================================================
# Gemini API Configuration (Optional - for research generation)
# =============================================================================
# Gemini is ONLY used for research generation, NOT story generation.
# Supports two modes:
#   - Standard Gemini: --model gemini
#   - Deep Research Agent: --model deep-research (uses Interactions API)
#
# API Provider: Google AI Studio (not Vertex AI)
# Install: pip install google-genai
# =============================================================================
GEMINI_ENABLED=false
GEMINI_API_KEY=your_gemini_api_key_here
GOOGLE_AI_MODEL=deep-research-pro-preview-12-2025

# =============================================================================
# Ollama Configuration (Optional)
# =============================================================================
# Used for local model execution (both story and research)
# =============================================================================
OLLAMA_HOST=localhost
OLLAMA_PORT=11434

# =============================================================================
# Story Deduplication Configuration (Optional)
# =============================================================================
# Signature-based dedup
ENABLE_STORY_DEDUP=true
STORY_DEDUP_STRICT=false

# Semantic embedding dedup (v1.4.0)
# Requires Ollama with nomic-embed-text model
ENABLE_STORY_SEMANTIC_DEDUP=true
STORY_SEMANTIC_THRESHOLD_HIGH=0.85
STORY_SEMANTIC_THRESHOLD_MEDIUM=0.70
STORY_HYBRID_THRESHOLD=0.85
STORY_HYBRID_CANONICAL_WEIGHT=0.3
STORY_HYBRID_SEMANTIC_WEIGHT=0.7

# =============================================================================
# Story Canonical Key Extraction Configuration (Optional)
# =============================================================================
# Extract canonical dimensions from generated story text and compare with template
ENABLE_STORY_CK_EXTRACTION=true
STORY_CK_MODEL=
# Enforcement policy: none/warn/retry/strict (default: warn)
STORY_CK_ENFORCEMENT=warn
# Minimum alignment score threshold (0.0-1.0, default: 0.6)
STORY_CK_MIN_ALIGNMENT=0.6

# =============================================================================
# Research Integration Configuration (Optional)
# =============================================================================
AUTO_INJECT_RESEARCH=true
RESEARCH_INJECT_TOP_K=1
RESEARCH_INJECT_REQUIRE=false
RESEARCH_INJECT_EXCLUDE_DUP_LEVEL=HIGH

# =============================================================================
# Vector Backend Configuration (Optional)
# =============================================================================
# Enable vector-based semantic search for research cards
# Requires Ollama with nomic-embed-text model
VECTOR_BACKEND_ENABLED=true

# =============================================================================
# API Authentication (Optional)
# =============================================================================
# Set API_AUTH_ENABLED=true to require X-API-Key header for API access.
# When enabled, all endpoints except /health and /resource/status require
# authentication via the X-API-Key header.
# =============================================================================
API_AUTH_ENABLED=false
API_KEY=your_secure_api_key_here
